/********************************************************************************
 * generated by de.acegen 0.9.10
 ********************************************************************************/




import ACEController from "./ACEController";
import Command from "./Command";

export default class AbstractAsynchronousCommand extends Command {
    executeCommand() {
        return new Promise((resolve, reject) => {
			if (ACEController.execution === ACEController.UI) {
				if (this.validateCommandData()) {
				    this.execute().then(() => {
				        ACEController.addItemToTimeLine({command: this});
				        this.publishEvents();
				        resolve();
				    }, (error) => {
				    	ACEController.addItemToTimeLine({command: this});
				        reject(error);
				    });
				} else {
			        ACEController.addItemToTimeLine({command: this});
			        this.publishEvents();
					resolve();
				}
			} else {
				const timelineCommand = ACEController.getCommandByUuid(this.commandData.uuid);
				if (timelineCommand) {
				    if (timelineCommand.commandData.error) {
				        reject(timelineCommand.commandData.error);
				    } else {
				        this.commandData = timelineCommand.commandData;
				        ACEController.addItemToTimeLine({command: this});
				        this.publishEvents();
				        resolve();
				    }
				} else {
				    resolve();
				}
			}
        });
    }

    validateCommandData() {
    	return true;
    }

}




/******* S.D.G. *******/





